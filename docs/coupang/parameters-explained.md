# Coupang API 파라미터 상세 설명

Coupang API에서 사용되는 주요 파라미터들의 의미와 획득 방법을 설명합니다.

## vendor_id

### 정의
- **판매자 ID**로, Coupang에서 업체에게 발급한 고유 코드
- 형식: `A`로 시작하는 ID (예: `A00012345`)

### 특징
- **한 사용자(판매자)마다 하나의 vendor_id만 존재**합니다.
- UI를 통해서는 쉽게 확인할 수 있지만, **API로는 조회할 수 없습니다**.
- 따라서 사용자가 직접 입력해야 합니다.

### 용도
- 즉시할인쿠폰 생성 시 필수 (URL Path에 포함)
- 다운로드쿠폰 응답에도 포함됨

### 획득 방법
1. Coupang WING 관리자 페이지 로그인
2. 판매자 정보 섹션에서 확인
3. 설치 시 사용자가 직접 입력

---

## user_id

### 정의
- **WING 로그인 ID** (username)
- Coupang WING 플랫폼에 로그인할 때 사용하는 사용자명

### 특징
- 실제 사용자 계정명을 의미합니다.
- 다운로드쿠폰 생성 시 필수 파라미터

### 용도
- 다운로드쿠폰 생성 시 `userId` 필드에 전달
- 쿠폰 생성자를 식별하는 용도

### 획득 방법
- Coupang WING 로그인 ID를 사용자가 직접 입력

---

## contract_id

### 정의
- **계약서 ID**로, 쿠폰 발급 시 어떤 예산(계약)에서 비용을 차감할지 결정하는 값

### 특징
- 계약은 **예산 설정**과 관련이 있습니다.
- 각 계약마다 할당된 예산이 있으며, 쿠폰 발급 시 해당 계약의 예산에서 비용이 차감됩니다.

### 가능한 값

#### 1. 특정 계약 ID (양수)
- 예: `10`, `15`, `20`
- 별도 API 엔드포인트를 통해 현재 사용 가능한 계약 목록을 조회할 수 있습니다.
- 알고리즘에 따라 적절한 계약을 선택하여 사용할 수 있습니다.

#### 2. `-1` (자유계약, 무제한 예산)
- **본 프로젝트에서 사용하는 값**
- 특정 계약 예산에 종속되지 않고, 자유롭게 쿠폰을 발급합니다.
- 무제한 예산으로 취급됩니다.

### 본 프로젝트의 선택: `-1` (자유계약)

**이유**:
1. **단순성**: 별도 API 호출 없이 고정값 사용
2. **예측 가능성**: 예산 소진으로 인한 실패 없음
3. **투명성**: 사용자에게 "자유예산에서 사용된다"는 사실을 명확히 설명 가능
4. **유지보수성**: 계약 선택 로직 불필요

자세한 결정 배경은 [ADR 006: contract_id 자유계약 사용](../adr/006-contract-id-free-budget.md)을 참조하세요.

### 획득 방법 (특정 계약 사용 시)

만약 향후 특정 계약을 사용하고 싶다면:
1. Coupang API를 통해 계약 목록 조회
2. 유효한 계약 중 하나를 선택
3. 해당 계약 ID를 사용

현재는 **고정값 `-1`을 사용**하므로 별도 조회 불필요.

---

## 요약

| 파라미터 | 형식 | 획득 방법 | 본 프로젝트 처리 |
|---------|------|----------|----------------|
| `vendor_id` | `A00012345` | UI에서 확인, 사용자 입력 | 설치 시 수집 (credentials.json에 저장) |
| `user_id` | 문자열 | WING 로그인 ID | 설치 시 수집 (credentials.json에 저장) |
| `contract_id` | 숫자 | API 조회 또는 `-1` 사용 | **고정값 `-1` 사용** (config.py에 상수) |

---

## 관련 문서

- [ADR 004: 고정 설정값](../adr/004-fixed-configuration-values.md)
- [ADR 006: contract_id 자유계약 사용](../adr/006-contract-id-free-budget.md)
